# PVZ



## 版本

* 使用`C#实现植物大战僵尸`

* unity版本:6000.0.20.f1c1



## 设计思路

### 架构设计

1. 植物基类`Plant`，派生类包括向日葵`SunFlower`、豌豆射手`Peashooter`等。
2. 僵尸基类`Zombie`，派生类包括普通僵尸`BasicZombie`、路障僵尸`ConeZombie`等。
3. 其他基类`Other`，派生类包括商店`Shop`、地图`Map`、卡牌`Card`等。



### 界面设计

界面仿照原版植物大战僵尸，最上方是卡牌商店界面中央是地图，植物和僵尸在此展开战斗。



### 功能实现

- 鼠标按下，移动，释放和双击事件
- 键盘输入焦点和按键事件
- 拖放
- 碰撞检测





### 植物设计

植物的属性包括：

* 生命值`hp`，用于判定死亡
* 状态`state`，用于记录状态
* 攻击力`atk`，用于造成伤害
* 计数器`counter`，用于计时
* 时间间隔`time`，用于判定是否行动
* 动画`movie`，用于加载`GIF`



### 僵尸设计

僵尸的属性包括：

* 生命值`hp`，用于判定死亡
* 状态`state`，用于记录状态
* 攻击力`atk`，用于造成伤害
* 速度`speed`，用于移动
* 动画`movie`，用于绘制
* 动态`head`，用于绘制死亡僵尸头部



### 其他设计

其他基类的派生类较多，根据需要具体实现。



## 具体实现

这部分列举了一些重要的类的具体实现，未列举的类可以同理实现。

### MainWindow

`MainWindow`控制整个游戏的运行，具体流程为：

1. 播放背景音乐
2. 创建场景，设置边界
3. 创建商店、卡牌、加入场景
4. 创建视图，设置背景和大小

## 操作运行

操作方式跟原版游戏一致：

* 种植，拖动植物到地块

## 问题和解决方案

欢迎大家提出自己的创意和建议。

